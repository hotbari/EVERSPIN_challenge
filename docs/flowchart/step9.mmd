flowchart TD
  A["/step9 요청"] --> B{"puzzleState, x-puzzle-answer 존재?"}
  B -- 없음/미제출 --> C["puzzleState 생성, 퍼즐 요소 응답"]
  B -- 있음 --> D["퍼즐 만료(30초 초과)?" ]
  D -- 예 --> E["새 퍼즐 생성, 실패 응답"]
  D -- 아니오 --> F{"정답 일치?"}
  F -- 아니오 --> G["새 퍼즐 생성, 실패 응답"]
  F -- 예 --> H["puzzleState 삭제, 통과"] 